{{ p >. rat(0) }}

x ~ bern(rat(1) /. rat(2));
if (x) then {
    y ~ bern(p);
} else {
    y ~ bern(p /. rat(2));
}

{{ y }}
{{ p }}